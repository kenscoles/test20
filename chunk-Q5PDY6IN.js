import{c as K}from"./chunk-7BL7JX4D.js";import{a as de,b as pe}from"./chunk-KZVDWELM.js";import"./chunk-KHRX55C7.js";import{d as x,e as k}from"./chunk-XXWXLPEB.js";import{a as Q,c as $}from"./chunk-B3I6AEB2.js";import{a as ue,b as ge}from"./chunk-NCFVREE7.js";import{a as Y,b as Z,e as J,f as ee,g as te,h as S,j as re,k as ie,l as oe,p as ne,q as ae,r as se,s as ce,t as me,u as le}from"./chunk-JGJFPSTD.js";import{M as U,N as X,g as H}from"./chunk-VOI3DQAB.js";import{c as _e}from"./chunk-NETFYMQT.js";import{Ab as C,Bb as G,Db as V,Eb as c,Fb as T,Gb as z,Ha as s,Ma as R,Nb as q,Ra as f,Sa as L,Va as B,Y as D,_ as I,aa as d,cb as h,cc as w,db as u,eb as g,ha as E,hb as _,ia as N,ib as i,jb as n,kb as l,lb as b,ob as v,pb as y,qa as p,tb as O,ub as W,vb as A,wa as F,zb as j}from"./chunk-PEVRMKSI.js";var Ce=["determinateSpinner"];function we(t,a){if(t&1&&(E(),i(0,"svg",11),l(1,"circle",12),n()),t&2){let e=y();h("viewBox",e._viewBox()),s(),C("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),h("r",e._circleRadius())}}var Se=new I("mat-progress-spinner-default-options",{providedIn:"root",factory:xe});function xe(){return{diameter:he}}var he=100,ke=10,ve=(()=>{class t{_elementRef=d(F);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=d(Se);this._noopAnimations=U()&&!!e&&!e._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=he;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-ke)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=f({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(o,r){if(o&1&&O(Ce,5),o&2){let m;W(m=A())&&(r._determinateCircle=m.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(o,r){o&2&&(h("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),V("mat-"+r.color),C("width",r.diameter,"px")("height",r.diameter,"px")("--mat-progress-spinner-size",r.diameter+"px")("--mat-progress-spinner-active-indicator-width",r.diameter+"px"),G("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",w],diameter:[2,"diameter","diameter",w],strokeWidth:[2,"strokeWidth","strokeWidth",w]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(o,r){if(o&1&&(B(0,we,2,8,"ng-template",null,0,q),i(2,"div",2,1),E(),i(4,"svg",3),l(5,"circle",4),n()(),N(),i(6,"div",5)(7,"div",6)(8,"div",7),b(9,8),n(),i(10,"div",9),b(11,8),n(),i(12,"div",10),b(13,8),n()()()),o&2){let m=j(1);s(4),h("viewBox",r._viewBox()),s(),C("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),h("r",r._circleRadius()),s(4),_("ngTemplateOutlet",m),s(2),_("ngTemplateOutlet",m),s(2),_("ngTemplateOutlet",m)}},dependencies:[H],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return t})();var ye=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=L({type:t});static \u0275inj=D({imports:[X]})}return t})();function Te(t,a){t&1&&l(0,"mat-spinner",1),t&2&&_("diameter",50)}function Pe(t,a){t&1&&(i(0,"mat-error"),c(1," Data is "),i(2,"strong"),c(3,"required"),n()())}function De(t,a){t&1&&(i(0,"mat-error"),c(1," Please enter a "),i(2,"strong"),c(3,"valid email"),n()())}function Ie(t,a){t&1&&(i(0,"mat-error"),c(1," Data is "),i(2,"strong"),c(3,"required"),n()())}var M=class t{constructor(a,e){this.fb=a;this.router=e;this.form=a.group({email:["",[S.required,S.email]],password:["",[S.required]]})}dialogRef=d(de,{optional:!0});form=new oe({});email="";password="";loading=!1;get f(){return this.form.controls}closeModal(){this.dialogRef?.close()}onSubmit(){this.dialogRef?.close(this.form.value)}static \u0275fac=function(e){return new(e||t)(R(ce),R(K))};static \u0275cmp=f({type:t,selectors:[["app-login"]],decls:23,vars:5,consts:[[1,"centred"],[2,"margin","0 auto",3,"diameter"],[3,"ngSubmit","formGroup"],[1,"example-full-width"],["matInput","","placeholder","email","formControlName","email"],["matInput","","type","password","placeholder","password","formControlName","password"],["mat-raised-button",""],[3,"click"]],template:function(e,o){if(e&1&&(i(0,"div",0)(1,"h3"),c(2,"Login Page"),n(),u(3,Te,1,1,"mat-spinner",1),i(4,"form",2),v("ngSubmit",function(){return o.onSubmit()}),i(5,"mat-form-field",3)(6,"mat-label"),c(7,"Enter email:"),n(),l(8,"input",4),u(9,Pe,4,0,"mat-error"),u(10,De,4,0,"mat-error"),n(),l(11,"br")(12,"br"),i(13,"mat-form-field",3)(14,"mat-label"),c(15,"Enter password:"),n(),l(16,"input",5),u(17,Ie,4,0,"mat-error"),n(),l(18,"br"),i(19,"button",6),c(20,"login"),n()(),i(21,"button",7),v("click",function(){return o.closeModal()}),c(22,"Close"),n()()),e&2){let r,m,P;s(3),g(o.loading?3:-1),s(),_("formGroup",o.form),s(5),g((r=o.form.get("email"))!=null&&r.hasError("required")?9:-1),s(),g((m=o.form.get("email"))!=null&&m.hasError("email")?10:-1),s(7),g((P=o.form.get("password"))!=null&&P.hasError("required")?17:-1)}},dependencies:[me,ne,te,re,ie,le,ae,se,k,x,ee,J,Y,Z,ge,ue,ye,ve],styles:[".centred[_ngcontent-%COMP%]{border-radius:.375em;min-width:350px;max-width:500px;height:400px;margin-left:auto;margin-right:auto;filter:drop-shadow(0 0 2em rgba(black,.5));padding:20px;background-color:#dce7e7;text-align:center}.example-full-width[_ngcontent-%COMP%]{width:100%}"]})};function Ne(t,a){if(t&1&&(i(0,"h2"),c(1),n(),c(2)),t&2){let e=y();s(),T(e.test.value().name),s(),z(`
Log ok: `,e.show(),`
`)}}function Fe(t,a){t&1&&(i(0,"h2"),c(1,"Please wait for connection"),n())}function Le(t,a){if(t&1&&(i(0,"h3"),c(1),n()),t&2){let e=y();s(),T(e.myError())}}var be=class t{dialog=d(pe);http=d(Q);reply=p({});test=$(()=>"https://node2-tjnl.onrender.com/user/79");title="test20";username=p("Ken");userPassword="data";hash="";result=!1;outcome="untested";myResult=p("");show=p(!1);myError=p("");flag2=p("kenscoles@mail.fr");lyra=p("ken@lib.com");openModal(){this.myError.set(""),this.show.set(!1),this.dialog.open(M,{disableClose:!0}).closed.subscribe(e=>{this.reply.set(e),this.http.get(`https://node2-tjnl.onrender.com/email/${this.reply().email}`).subscribe({next:r=>{this.myResult.set(r),console.log("res ",r),this.hash=this.myResult().phone,this.userPassword=this.reply().password,this.result=_e(this.userPassword,this.hash),this.show.set(this.result)},error:r=>{console.log("error:",r.status),r.status==400?this.myError.set("Email address not found"):this.myError.set("server error")}})})}test2(){this.http.get("/api/config").subscribe({next:a=>{console.log("Config fetched successfully:",a)},error:a=>{console.log("error:",a.status)}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-comp2"]],decls:5,vars:2,consts:[["matButton","outlined",3,"click"]],template:function(e,o){e&1&&(u(0,Ne,3,2)(1,Fe,2,0,"h2"),i(2,"button",0),v("click",function(){return o.openModal()}),c(3,"Open modal"),n(),u(4,Le,2,1,"h3")),e&2&&(g(o.test.hasValue()?0:1),s(4),g(o.reply()?4:-1))},dependencies:[k,x],encapsulation:2})};export{be as Comp2};
